runtime: custom
env: flex
service: searchcache

# AppEngine Flex supports custom machine types with up to 32 vCPUs.
# Custom machine type specifications:
# https://cloud.google.com/compute/docs/instances/creating-instance-with-custom-machine-type#specifications
resources:
  # TODO: Would prefer up to 96 CPUs for performance and memory capacity if/when available on AppEngine Flex
  cpu: 32
  memory_gb: 208 # Max: 32 vCPU * 6.5 = 208 GB

manual_scaling:
  instances: 2

liveness_check:
  path: "/_ah/liveness_check"

readiness_check:
  path: "/_ah/readiness_check"

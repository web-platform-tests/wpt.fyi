<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <script src="../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
  <script src="../../bower_components/web-component-tester/browser.js"></script>

  <link rel="import" href="../test-runs.html">
  <link rel="import" href="../test-file-results.html">
  <link rel="import" href="./util/helpers.html">
</head>
<body>
  <test-fixture id="test-file-results-fixture">
    <template>
      <test-file-results
        path="/2dcontext/the-canvas-state/2d.state.saverestore.bitmap.html">
      </test-file-results>
    </template>
  </test-fixture>
  <script>
    /* global TestFileResults, TEST_RUNS_DATA */
    suite('TestFileResults', () => {
      let tfr;

      setup(() => {
        const id = 'test-file-results-fixture';
        document.getElementById(id)
          .setAttribute('test-runs', JSON.stringify(TEST_RUNS_DATA));
        tfr = fixture(id);
      });

      test('instanceof Polymer.Element', () => {
        assert.isTrue(new TestFileResults() instanceof window.Polymer.Element);
        assert.isTrue(document.createElement('test-file-results') instanceof window.Polymer.Element);
      });

      suite('static get is()', () => {
        test('test-file-results', () => {
          assert.equal(TestFileResults.is, 'test-file-results');
        });
      });

      suite('TestFileResults.prototype.*', () => {
        suite('statusName', () => {
          test('no subtests', () => {
            assert.equal(tfr.statusName(0), 'Test status');
          });
          test('> 0 subtests', () => {
            assert.equal(tfr.statusName(1), 'Harness status');
            assert.equal(tfr.statusName(99), 'Harness status');
          });
        });
      });
    });
  </script>
</body>
</html>

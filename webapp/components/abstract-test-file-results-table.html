<!--
Copyright 2018 The WPT Dashboard Project. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<dom-module id="abstract-test-file-results-table">
  <script>
    // eslint-disable-next-line no-unused-vars
    const AbstractTestFileResultsTable = superClass => class extends superClass {
      static get properties() {
        return {
          statusesAsMessage: {
            type: Array,
            value: ['OK', 'PASS', 'TIMEOUT'],
          },
          resultsTable: {
            type: Array,
            value: [],
          },
        };
      }

      subtestMessage(result) {
        if (this.statusesAsMessage.includes(result.status)) {
          return result.status;
        }
        if (!result.status) {
          return 'MISSING';
        }
        return '';
      }

      computeSubtestThWidth(testRuns) {
        return `${200 / (testRuns.length + 2)}%`;
      }

      computeRunThWidth(testRuns) {
        return `${100 / (testRuns.length + 2)}%`;
      }
    };
  </script>
</dom-module>
